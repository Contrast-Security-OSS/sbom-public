<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contrast Security - SBOM Repository</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg"></div>

    <!-- Hero Section -->
    <header class="hero">
        <div class="container">
            <div class="hero-content">
                <img src="logo.svg" alt="Contrast Security" class="logo">
                <h1 class="hero-title">Software Bill of Materials</h1>
                <p class="hero-subtitle">
                    Transparency and security you can trust. Explore comprehensive SBOMs for all Contrast Security products.
                </p>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="stat-products">0</div>
                        <div class="stat-label">Products</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="stat-versions">0</div>
                        <div class="stat-label">Versions</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="stat-updated">‚Äî</div>
                        <div class="stat-label">Last Updated</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Info Banner -->
            <div class="info-banner">
                <div class="info-icon">üîç</div>
                <div class="info-text">
                    <strong>Industry-Standard Formats:</strong> All SBOMs available in SPDX and CycloneDX formats.
                    Need something specific? <a href="https://www.contrastsecurity.com/contact-us">Contact us</a>
                </div>
            </div>

            <!-- Search and Filter Controls -->
            <div class="controls-section">
                <div class="search-wrapper">
                    <div class="search-input-container">
                        <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35"/>
                        </svg>
                        <input
                            type="text"
                            id="search-input"
                            placeholder="Search products, versions, or packages..."
                            class="search-input"
                            autocomplete="off"
                        />
                        <button
                            id="search-clear-btn"
                            class="search-clear-btn"
                            style="display: none;"
                            title="Clear search"
                            aria-label="Clear search"
                        >
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"/>
                                <line x1="6" y1="6" x2="18" y2="18"/>
                            </svg>
                        </button>
                        <div id="search-suggestions" class="search-suggestions" style="display: none;"></div>
                    </div>
                    <div id="search-loading-badge" class="search-loading-badge" style="display: none;">
                        <div class="loading-spinner-small"></div>
                        <span>Loading packages...</span>
                    </div>
                </div>
                <div class="filter-group">
                    <label for="sort-select" class="filter-label">Sort:</label>
                    <select id="sort-select" class="filter-select">
                        <option value="name">Product Name</option>
                        <option value="date">Release Date</option>
                        <option value="versions">Most Versions</option>
                    </select>
                </div>
                <button id="sort-order-toggle" class="sort-toggle" title="Toggle sort order">
                    <svg class="sort-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 5h10M11 9h7M11 13h4M3 17l4 4 4-4M7 21V10"/>
                    </svg>
                </button>
                <button id="view-toggle" class="view-toggle" title="Toggle view">
                    <svg class="view-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"/>
                        <rect x="14" y="3" width="7" height="7"/>
                        <rect x="14" y="14" width="7" height="7"/>
                        <rect x="3" y="14" width="7" height="7"/>
                    </svg>
                </button>
            </div>

            <!-- Product Grid -->
            <div id="product-grid" class="product-grid">
                <div class="loading-state">
                    <div class="loader"></div>
                    <p>Loading products...</p>
                </div>
            </div>

            <!-- No Results -->
            <div id="no-results" class="no-results" style="display: none;">
                <div class="no-results-icon">üîé</div>
                <h3>No products found</h3>
                <p>Try adjusting your search terms</p>
            </div>
        </div>
    </main>

    <!-- SBOM Viewer Modal -->
    <div id="sbom-modal" class="modal" style="display: none;">
        <div class="modal-overlay" onclick="closeModal()"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="modal-title">SBOM Viewer</h2>
                <button class="modal-close" onclick="closeModal()" aria-label="Close">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <pre id="sbom-content"><code></code></pre>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Dependency Tree Modal -->
    <div id="tree-modal" class="modal" style="display: none;">
        <div class="modal-overlay" onclick="closeTreeModal()"></div>
        <div class="modal-container modal-wide">
            <div class="modal-header">
                <h2 id="tree-modal-title">Dependency Tree</h2>
                <button class="modal-close" onclick="closeTreeModal()" aria-label="Close">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body" style="padding: 0;">
                <div class="tree-header-inline">
                    <div class="tree-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="tree-stat-total">0</div>
                            <div class="stat-label">Total</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="tree-stat-direct">0</div>
                            <div class="stat-label">Direct</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="tree-stat-transitive">0</div>
                            <div class="stat-label">Transitive</div>
                        </div>
                    </div>
                    <div class="tree-controls">
                        <div class="search-wrapper">
                            <div class="search-input-container">
                                <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="11" cy="11" r="8"/>
                                    <path d="m21 21-4.35-4.35"/>
                                </svg>
                                <input
                                    type="text"
                                    id="tree-search-input"
                                    placeholder="Search packages..."
                                    class="search-input"
                                    autocomplete="off"
                                />
                                <button
                                    id="tree-search-clear-btn"
                                    class="search-clear-btn"
                                    style="display: none;"
                                    title="Clear search"
                                    aria-label="Clear search"
                                >
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"/>
                                        <line x1="6" y1="6" x2="18" y2="18"/>
                                    </svg>
                                </button>
                                <div id="tree-search-suggestions" class="search-suggestions tree-search-suggestions" style="display: none;"></div>
                            </div>
                        </div>
                        <button class="tree-btn" id="tree-expand-all-btn">Expand All</button>
                        <button class="tree-btn" id="tree-collapse-all-btn">Collapse All</button>
                        <button class="tree-btn" id="tree-export-btn">Export</button>
                    </div>
                </div>
                <div class="tree-content-wrapper">
                    <div id="tree-loading" class="tree-loading">
                        <div class="loading-spinner"></div>
                        <div style="color: var(--primary); font-size: 16px; margin-top: 16px;">Loading dependency tree...</div>
                    </div>
                    <div id="tree-content" class="tree-content" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>About</h3>
                    <p>Automated SBOM generation powered by <a href="https://github.com/anchore/syft" target="_blank">Syft</a></p>
                </div>
                <div class="footer-section">
                    <h3>Links</h3>
                    <ul class="footer-links">
                        <li><a href="https://www.contrastsecurity.com" target="_blank">Contrast Security</a></li>
                        <li><a href="https://github.com/Contrast-Security-OSS" target="_blank">GitHub</a></li>
                        <li><a href="https://docs.contrastsecurity.com" target="_blank">Documentation</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Formats</h3>
                    <ul class="footer-links">
                        <li><a href="https://spdx.dev/" target="_blank">SPDX Specification</a></li>
                        <li><a href="https://cyclonedx.org/" target="_blank">CycloneDX Specification</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Contrast Security. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="app.js?v=2"></script>
</body>
</html>
